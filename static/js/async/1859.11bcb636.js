"use strict";(self.webpackChunkFrostWood=self.webpackChunkFrostWood||[]).push([["1859"],{6789:function(e,n,a){a.r(n),a.d(n,{default:function(){return i}});var r=a(5893),s=a(65);function t(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",pre:"pre",code:"code"},(0,s.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"规则校验",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#规则校验",children:"#"}),"规则校验"]}),"\n",(0,r.jsxs)(n.p,{children:["代码来自",(0,r.jsx)(n.a,{href:"https://github.com/umicro/uView2.0/blob/master/uni_modules/uview-ui/libs/function/test.js",rel:"noopener noreferrer",target:"_blank",children:"uview-ui"})]}),"\n",(0,r.jsxs)(n.h2,{id:"验证电子邮箱格式",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#验证电子邮箱格式",children:"#"}),"验证电子邮箱格式"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function email(value) {\n    return /^\\w+((-\\w+)|(\\.\\w+))*\\@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z0-9]+$/.test(value)\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"验证手机格式",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#验证手机格式",children:"#"}),"验证手机格式"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function mobile(value) {\n    return /^1([3589]\\d|4[5-9]|6[1-2,4-7]|7[0-8])\\d{8}$/.test(value)\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"验证url格式",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#验证url格式",children:"#"}),"验证URL格式"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function url(value) {\n    return /^((https|http|ftp|rtsp|mms):\\/\\/)(([0-9a-zA-Z_!~*'().&=+$%-]+: )?[0-9a-zA-Z_!~*'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-zA-Z_!~*'()-]+.)*([0-9a-zA-Z][0-9a-zA-Z-]{0,61})?[0-9a-zA-Z].[a-zA-Z]{2,6})(:[0-9]{1,4})?((\\/?)|(\\/[0-9a-zA-Z_!~*'().;?:@&=+$,%#-]+)+\\/?)$/\n        .test(value)\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"验证日期格式",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#验证日期格式",children:"#"}),"验证日期格式"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function date(value) {\n    if (!value) return false\n    // 判断是否数值或者字符串数值(意味着为时间戳)，转为数值，否则new Date无法识别字符串时间戳\n    if (number(value)) value = +value\n    return !/Invalid|NaN/.test(new Date(value).toString())\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"验证iso类型的日期格式",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#验证iso类型的日期格式",children:"#"}),"验证ISO类型的日期格式"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function dateISO(value) {\n    return /^\\d{4}[\\/\\-](0?[1-9]|1[012])[\\/\\-](0?[1-9]|[12][0-9]|3[01])$/.test(value)\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"验证十进制数字",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#验证十进制数字",children:"#"}),"验证十进制数字"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function number(value) {\n    return /^[\\+-]?(\\d+\\.?\\d*|\\.\\d+|\\d\\.\\d+e\\+\\d+)$/.test(value)\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"验证字符串",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#验证字符串",children:"#"}),"验证字符串"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function string(value) {\n    return typeof value === 'string'\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"验证整数",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#验证整数",children:"#"}),"验证整数"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function digits(value) {\n    return /^\\d+$/.test(value)\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"验证身份证号码",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#验证身份证号码",children:"#"}),"验证身份证号码"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function idCard(value) {\n    return /^[1-9]\\d{5}[1-9]\\d{3}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}([0-9]|X)$/.test(\n        value\n    )\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"是否车牌号",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#是否车牌号",children:"#"}),"是否车牌号"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function carNo(value) {\n    // 新能源车牌\n    const xreg = /^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}(([0-9]{5}[DF]$)|([DF][A-HJ-NP-Z0-9][0-9]{4}$))/\n    // 旧车牌\n    const creg = /^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳]{1}$/\n    if (value.length === 7) {\n        return creg.test(value)\n    } if (value.length === 8) {\n        return xreg.test(value)\n    }\n    return false\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"金额只允许2位小数",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#金额只允许2位小数",children:"#"}),"金额,只允许2位小数"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function amount(value) {\n    // 金额，只允许保留两位小数\n    return /^[1-9]\\d*(,\\d{3})*(\\.\\d{1,2})?$|^0\\.\\d{1,2}$/.test(value)\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"中文",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#中文",children:"#"}),"中文"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function chinese(value) {\n    const reg = /^[\\u4e00-\\u9fa5]+$/gi\n    return reg.test(value)\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"只能输入字母",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#只能输入字母",children:"#"}),"只能输入字母"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function letter(value) {\n    return /^[a-zA-Z]*$/.test(value)\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"只能是字母或者数字",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#只能是字母或者数字",children:"#"}),"只能是字母或者数字"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function enOrNum(value) {\n    // 英文或者数字\n    const reg = /^[0-9a-zA-Z]*$/g\n    return reg.test(value)\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"验证是否包含某个值",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#验证是否包含某个值",children:"#"}),"验证是否包含某个值"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function contains(value, param) {\n    return value.indexOf(param) >= 0\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"验证一个值范围min-max",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#验证一个值范围min-max",children:"#"}),"验证一个值范围[min, max]"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function range(value, param) {\n    return value >= param[0] && value <= param[1]\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"验证一个长度范围min-max",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#验证一个长度范围min-max",children:"#"}),"验证一个长度范围[min, max]"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function rangeLength(value, param) {\n    return value.length >= param[0] && value.length <= param[1]\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"是否固定电话",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#是否固定电话",children:"#"}),"是否固定电话"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function landline(value) {\n    const reg = /^\\d{3,4}-\\d{7,8}(-\\d{3,4})?$/\n    return reg.test(value)\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"判断是否为空",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#判断是否为空",children:"#"}),"判断是否为空"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function empty(value) {\n    switch (typeof value) {\n    case 'undefined':\n        return true\n    case 'string':\n        if (value.replace(/(^[ \\t\\n\\r]*)|([ \\t\\n\\r]*$)/g, '').length == 0) return true\n        break\n    case 'boolean':\n        if (!value) return true\n        break\n    case 'number':\n        if (value === 0 || isNaN(value)) return true\n        break\n    case 'object':\n        if (value === null || value.length === 0) return true\n        for (const i in value) {\n            return false\n        }\n        return true\n    }\n    return false\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"是否json字符串",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#是否json字符串",children:"#"}),"是否json字符串"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function jsonString(value) {\n    if (typeof value === 'string') {\n        try {\n            const obj = JSON.parse(value)\n            if (typeof obj === 'object' && obj) {\n                return true\n            }\n            return false\n        } catch (e) {\n            return false\n        }\n    }\n    return false\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"是否数组",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#是否数组",children:"#"}),"是否数组"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function array(value) {\n    if (typeof Array.isArray === 'function') {\n        return Array.isArray(value)\n    }\n    return Object.prototype.toString.call(value) === '[object Array]'\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"是否对象",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#是否对象",children:"#"}),"是否对象"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function object(value) {\n    return Object.prototype.toString.call(value) === '[object Object]'\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"是否短信验证码",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#是否短信验证码",children:"#"}),"是否短信验证码"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function code(value, len = 6) {\n    return new RegExp(`^\\\\d{${len}}$`).test(value)\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"是否函数方法",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#是否函数方法",children:"#"}),"是否函数方法"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function func(value) {\n    return typeof value === 'function'\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"是否promise对象",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#是否promise对象",children:"#"}),"是否promise对象"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function promise(value) {\n    return object(value) && func(value.then) && func(value.catch)\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"是否图片格式",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#是否图片格式",children:"#"}),"是否图片格式"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function image(value) {\n    const newValue = value.split('?')[0]\n    const IMAGE_REGEXP = /\\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i\n    return IMAGE_REGEXP.test(newValue)\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"是否视频格式",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#是否视频格式",children:"#"}),"是否视频格式"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function video(value) {\n    const VIDEO_REGEXP = /\\.(mp4|mpg|mpeg|dat|asf|avi|rm|rmvb|mov|wmv|flv|mkv|m3u8)/i\n    return VIDEO_REGEXP.test(value)\n}\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"是否为正则对象",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#是否为正则对象",children:"#"}),"是否为正则对象"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"",children:"function regExp(o) {\n    return o && Object.prototype.toString.call(o) === '[object RegExp]'\n}\n"})})]})}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,s.ah)(),e.components);return n?(0,r.jsx)(n,Object.assign({},e,{children:(0,r.jsx)(t,e)})):t(e)}let i=d;d.__RSPRESS_PAGE_META={},d.__RSPRESS_PAGE_META["front-end%2Fcode-snippet%2F%E8%A7%84%E5%88%99%E6%A0%A1%E9%AA%8C.mdx"]={toc:[{id:"验证电子邮箱格式",text:"验证电子邮箱格式",depth:2},{id:"验证手机格式",text:"验证手机格式",depth:2},{id:"验证url格式",text:"验证URL格式",depth:2},{id:"验证日期格式",text:"验证日期格式",depth:2},{id:"验证iso类型的日期格式",text:"验证ISO类型的日期格式",depth:2},{id:"验证十进制数字",text:"验证十进制数字",depth:2},{id:"验证字符串",text:"验证字符串",depth:2},{id:"验证整数",text:"验证整数",depth:2},{id:"验证身份证号码",text:"验证身份证号码",depth:2},{id:"是否车牌号",text:"是否车牌号",depth:2},{id:"金额只允许2位小数",text:"金额,只允许2位小数",depth:2},{id:"中文",text:"中文",depth:2},{id:"只能输入字母",text:"只能输入字母",depth:2},{id:"只能是字母或者数字",text:"只能是字母或者数字",depth:2},{id:"验证是否包含某个值",text:"验证是否包含某个值",depth:2},{id:"验证一个值范围min-max",text:"验证一个值范围[min, max]",depth:2},{id:"验证一个长度范围min-max",text:"验证一个长度范围[min, max]",depth:2},{id:"是否固定电话",text:"是否固定电话",depth:2},{id:"判断是否为空",text:"判断是否为空",depth:2},{id:"是否json字符串",text:"是否json字符串",depth:2},{id:"是否数组",text:"是否数组",depth:2},{id:"是否对象",text:"是否对象",depth:2},{id:"是否短信验证码",text:"是否短信验证码",depth:2},{id:"是否函数方法",text:"是否函数方法",depth:2},{id:"是否promise对象",text:"是否promise对象",depth:2},{id:"是否图片格式",text:"是否图片格式",depth:2},{id:"是否视频格式",text:"是否视频格式",depth:2},{id:"是否为正则对象",text:"是否为正则对象",depth:2}],title:"规则校验",frontmatter:{}}}}]);